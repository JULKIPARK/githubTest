<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<body>

	<div class="result-head">
		<div class="total">총<strong class="text-orange" th:text="${mediaTotal}"></strong>건</div>
		<div class="sorting">
			<div class="btn-m-sort sort-news-val"></div>
			<ul class="sorting-wrap an current-wrap">
				<li><button type="button" id="sort_rd" onclick="sorting('rd')"><span>등록일 최신순</span></button></li>
				<li><button type="button" id="sort_pd" onclick="sorting('pd')"><span>발간일 최신순</span></button></li>
				<li><button type="button" id="sort_c" onclick="sorting('c')"><span>조회순</span></button></li>
				<li id="sort_rLabel" style="display: none;"><button type="button" id="sort_r" onclick="sorting('r')"><span>정확도순</span></button></li>
			</ul>
		</div>
		<button type="button" class="btn-filter">필터<img src="/assets/img/common/ico_filter.svg" alt="" /></button>
	</div>

	<div class="thumbnail-wrap">
		<ul class="list">
			<!--20230901 수정//-->
			<li th:each="result, status : ${mediaList}">
                <a href="javascript:void(0);" class="content_pop" th:data-kind="${result.cont_kind_cd}" th:data-uid="${result.cont_uid}" th:data-cd="${result.cont_rmthd_cd}">

						<div class="img-wrap">
							<span class="thumbnail"><img th:src="${result.tumnl_fpath}"></span>
							<span class="time" th:text="${result.vod_qunty_hh} + ':' + ${result.vod_qunty_mi} + ':' + ${result.vod_qunty_sec}"></span> <!-- 만약 시/분 이 없는 상황이면, ::이 그대로 노출 되기 때문에 if문으로 분기 돌려야할 것 같음 -->
							<span class="ico-play"><i class="blind">play</i></span>
						</div>
						<div class="info-wrap">							
							<ul class="ctg-txt">
								<li th:utext="${result.task_clsf_nm}"></li>
								<li th:text="${result.sbjt_gb_nm}"></li>
								<!--<li th:each="tpic_nm_arry : ${#strings.arraySplit(result.tpic_nm_arry, ',')}" th:text="${tpic_nm_arry}"></li>-->
							</ul>
							<p class="subject ellipsis"  th:utext="${result.cont_nm}"></p>
							<p class="n-hashtag" th:each="kwrd_arry : ${#strings.arraySplit(result.kwrd_arry, ',')}" th:if="${not #strings.isEmpty(kwrd_arry)}" th:text="${'# ' + kwrd_arry}"></p>
							<div class="info-area">
								<span class="writer" th:utext="${result.src_nm}"></span>
								<!-- 발간일 -->
								<span class="date" th:if="${#strings.length(result.pblcn_dte) == 4}"
										th:with="year=${#strings.substring(result.pblcn_dte, 0, 4)}"
		              					th:text="${year}">
								</span>
								<span class="date" th:if="${#strings.length(result.pblcn_dte) == 6}"
										th:with="year=${#strings.substring(result.pblcn_dte, 0, 4)}, 
		              					 		month=${#strings.substring(result.pblcn_dte, 4, 6)}"
		              					th:text="${year + '.' + month">
								</span>
								<span class="date" th:if="${#strings.length(result.pblcn_dte) == 8}"
										th:with="year=${#strings.substring(result.pblcn_dte, 0, 4)}, 
		              					 		month=${#strings.substring(result.pblcn_dte, 4, 6)}, 
		              					 		day=${#strings.substring(result.pblcn_dte, 6, 8)}"
		              					th:text="${year + '.' + month + '.' + day}">
								</span>
							</div>
						</div>
					</a>
				</li>
			<li class="nodata" th:if="${mediaTotal == 0}">데이터가 존재하지 않습니다.</li>
		</ul>
	</div>
	<!-- paging -->
	
	<div class="paging" th:if="${mediaTotal > 0}">
		<ul class="pagination">
			<li class="btn first"><a href="#"
					th:onclick="'javascript:gotopage(' + ${PageInfo.navigateFirstPage} + '); return false;'"
					class="page-link"><span class="blind" style="display:inline;">처음</span></a></li>
			<li class="btn prev"><a href="#"
					th:onclick="'javascript:gotopage(' + ${PageInfo.prePage-1} + '); return false;'" class="page-link"><span
						class="blind" style="display:inline;">이전</span></a></li>
			<li th:each="page: ${PageInfo.navigatepageNums}"
				th:class="${page == PageInfo.pageNumber ? 'page-item on' : 'page-item'}">
				<a th:text="${page}" href="#" th:onclick="'javascript:gotopage(' + ${page-1} + '); return false;'"
					class="page-link"></a>
			</li>
	
			<li class="btn next"><a href="#"
					th:onclick="'javascript:gotopage(' + ${PageInfo.nextPage-1} + '); return false;'"
					class="page-link"><span class="blind" style="display:inline;">다음</span></a></li>
			<li class="btn last"><a href="#"
					th:onclick="'javascript:gotopage(' + ${PageInfo.navigateLastPage-1} + '); return false;'"
					class="page-link"><span class="blind" style="display:inline;">마지막</span></a></li>
		</ul>
	</div>
	
	<!-- //paging -->

</body>



</html>
