<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{backoffice/layout/defaultLayout}">

<th:block th:fragment="fragmentByContRegPop">
  <script type="text/javascript">
	window.URL = window.URL || window.webkitURL;
alert();
	var fixLessonRows = 4;

    $(function() {
	      datePicker();
	      layerClose();
	      tab();
	      fnInitView();
	      fnInitEventByContRegPop();
    });

    function fnInitView() {
      _comLib.setDatePicker("dpSttDte","dpEndDte", "yy-mm-dd");
      _comLib.setDatePicker("dpEndDte", null, "yy-mm-dd");
      // setSchDate();
    }

    // 조회기간 설정
    function setSchDate(){
      var stDay = _comLib.preMonth($('input:radio[name=period]:checked').val());
      $("#dpSttDte").val(stDay);
      $("#dpEndDte").val(_comLib.toDay());
    }

    function setVideoFileInfo() {
    	var files = this.files;
    	var video = document.createElement('video');
    	var duration = 0;
    	var eleId = $(this).attr("id");
    	var idx = eleId.replace("uploadLessons_","");
    	video.preload = 'metadata';
    	
    	video.onloadedmetadata = function() {
    		if(video.src == "") {
    			return;
    		}
    		window.URL.revokeObjectURL(video.src);
    		duration = Math.floor(video.duration);

    		var hh = Math.floor(duration/3600);
        	var mm = Math.floor(duration%3600/60);
        	var ss = Math.floor(duration%60);
        	
        	$("#vodQuntyHh_"+idx).val(hh);
        	$("#vodQuntyMi_"+idx).val(mm);
        	$("#vodQuntySec_"+idx).val(ss);
    	}
    	video.src = URL.createObjectURL(files[0]);;
    }
    
    function fnInitEventByContRegPop() {
      // todo 토픽 영역은 픽스되면 하자!!
      $('#divTopic').hide();

      // 콘텐츠 종류 선택시 하위 활성화
      $('#trContRmthdCd').hide();
      $('#trUploadDoc').hide();
      $('#trUploadMov').hide();
      $('#trUploadEmbed').hide();
      $('#trUrlLink').hide();
      $('#divLesson').hide();
      
      // 콘텐츠종류 선택시
      $('input:radio[name="contKindCd"]').bind('change', function() {
        $('input[name="contRmthdCd"]').each(function(key, value) {
          $(this).prop('checked', false);
        });

        if ($('input:radio[name="contKindCd"]:checked').val() === "10") {
          $('#trContRmthdCd').show();
          $('#liContRmthdCd10').show();
          $('#liContRmthdCd20').show();
          $('#liContRmthdCd30').hide();
          $('#divLesson').hide();
        }
        if ($('input:radio[name="contKindCd"]:checked').val() === "20") {
          $('#trContRmthdCd').show();
          $('#liContRmthdCd10').show();
          $('#liContRmthdCd20').hide();
          $('#liContRmthdCd30').show();
          $('#divLesson').hide();
        }
        if ($('input:radio[name="contKindCd"]:checked').val() === "30") {
          $('#trContRmthdCd').hide();
          $('#liContRmthdCd10').hide();
          $('#liContRmthdCd20').hide();
          $('#liContRmthdCd30').hide();
          $('#trUploadDoc').hide();
          $('#trUploadMov').hide();
          $('#trUploadEmbed').hide();
          $('#trUrlLink').hide();
          $('#divLesson').show();
          for(i=1;i < 5;i++) {
              document.getElementById('uploadLessons_'+i).onchange = setVideoFileInfo;
          };
        }
      });

      // 등록방식 선택시
      $('input:radio[name="contRmthdCd"]').bind('change', function() {
        // 콘텐츠 종류 : 문서
        if ($('input:radio[name="contKindCd"]:checked').val() === '10') {
          if ($('input:radio[name="contRmthdCd"]:checked').val() === '10') {
            $('#trUploadDoc').show();
            $('#trUploadMov').hide();
            $('#trUploadEmbed').hide();
            $('#trUrlLink').hide();
            $('#linkUrl1').attr('readonly', 'readonly');
            $('#linkUrl2').attr('readonly', 'readonly');
            $('#vodQuntyHh1').attr('readonly', 'readonly');
            $('#vodQuntyMi1').attr('readonly', 'readonly');
            $('#vodQuntySec1').attr('readonly', 'readonly');
            $('#vodQuntyHh2').attr('readonly', 'readonly');
            $('#vodQuntyMi2').attr('readonly', 'readonly');
            $('#vodQuntySec2').attr('readonly', 'readonly');
          }

          if ($('input:radio[name="contRmthdCd"]:checked').val() === '20') {
            $('#trUploadDoc').hide();
            $('#trUploadMov').hide();
            $('#trUploadEmbed').hide();
            $('#trUrlLink').show();
            $('#linkUrl1').removeAttr('readonly');
            $('#linkUrl2').attr('readonly', 'readonly');
            $('#vodQuntyHh1').attr('readonly', 'readonly');
            $('#vodQuntyMi1').attr('readonly', 'readonly');
            $('#vodQuntySec1').attr('readonly', 'readonly');
            $('#vodQuntyHh2').attr('readonly', 'readonly');
            $('#vodQuntyMi2').attr('readonly', 'readonly');
            $('#vodQuntySec2').attr('readonly', 'readonly');
          }
        }

        // 콘텐츠 종류 : 영상
        if ($('input:radio[name="contKindCd"]:checked').val() === '20') {
          if ($('input:radio[name="contRmthdCd"]:checked').val() === '10') {
            $('#trUploadDoc').hide();
            $('#trUploadMov').show();
            $('#trUploadEmbed').hide();
            $('#trUrlLink').hide();
            $('#linkUrl2').attr('readonly', 'readonly');
            $('#vodQuntyHh1').removeAttr('readonly');
            $('#vodQuntyMi1').removeAttr('readonly');
            $('#vodQuntySec1').removeAttr('readonly');
            $('#linkUrl1').attr('readonly', 'readonly');
            $('#vodQuntyHh2').attr('readonly', 'readonly');
            $('#vodQuntyMi2').attr('readonly', 'readonly');
            $('#vodQuntySec2').attr('readonly', 'readonly');
          }

          if ($('input:radio[name="contRmthdCd"]:checked').val() === '30') {
            $('#trUploadDoc').hide();
            $('#trUploadMov').hide();
            $('#trUploadEmbed').show();
            $('#trUrlLink').hide();
            $('#linkUrl2').removeAttr('readonly');
            $('#vodQuntyHh2').removeAttr('readonly');
            $('#vodQuntyMi2').removeAttr('readonly');
            $('#vodQuntySec2').removeAttr('readonly');
            $('#linkUrl1').attr('readonly', 'readonly');
            $('#vodQuntyHh1').attr('readonly', 'readonly');
            $('#vodQuntyMi1').attr('readonly', 'readonly');
            $('#vodQuntySec1').attr('readonly', 'readonly');
          }
        }

        if ($('input:radio[name="contKindCd"]:checked').val() === '30') {
          $('#trUploadDoc').hide();
          $('#trUploadMov').hide();
          $('#trUploadEmbed').hide();
          $('#trUrlLink').hide();
          $('#linkUrl1').attr('readonly', 'readonly');
          $('#linkUrl2').attr('readonly', 'readonly');
          $('#vodQuntyHh1').attr('readonly', 'readonly');
          $('#vodQuntyMi1').attr('readonly', 'readonly');
          $('#vodQuntySec1').attr('readonly', 'readonly');
          $('#vodQuntyHh2').attr('readonly', 'readonly');
          $('#vodQuntyMi2').attr('readonly', 'readonly');
          $('#vodQuntySec2').attr('readonly', 'readonly');
        }
      });

      $('#pblcnGbCd').bind('change', function() {
        if ((this).val() === '01') {
          $('#pblcnMm').attr('readonly', 'readonly');
          $('#pblcnDd').attr('readonly', 'readonly');
        }
        if ((this).val() === '02') {
          $('#pblcnMm').removeAttr('readonly');
          $('#pblcnDd').attr('readonly', 'readonly');
        }
        if ((this).val() === '03') {
          $('#pblcnMm').removeAttr('readonly');
          $('#pblcnDd').removeAttr('readonly');
        }
      });

      $('input:radio[name="dpTpCd"]').bind('change', function() {
        if ($('input:radio[name="dpTpCd"]:checked').val() === '10') {
          $('#dpSttDte').removeAttr('readonly');
          $('#dpSttHh').removeAttr('readonly');
          $('#dpSttMi').removeAttr('readonly');
          $('#dpEndDte').removeAttr('readonly');
          $('#dpEndHh').removeAttr('readonly');
          $('#dpEndMi').removeAttr('readonly');
          $('#pirdStngUseYn').removeAttr('readonly');
        }
        if ($('input:radio[name="dpTpCd"]:checked').val() === '20') {
          $('#dpSttDte').removeAttr('readonly');
          $('#dpSttHh').removeAttr('readonly');
          $('#dpSttMi').removeAttr('readonly');
          $('#dpEndDte').removeAttr('readonly');
          $('#dpEndHh').removeAttr('readonly');
          $('#dpEndMi').removeAttr('readonly');
          $('#pirdStngUseYn').removeAttr('readonly');
        }
        if ($('input:radio[name="dpTpCd"]:checked').val() === '30') {
          $('#dpSttDte').attr('readonly', 'readonly');
          $('#dpSttHh').attr('readonly', 'readonly');
          $('#dpSttMi').attr('readonly', 'readonly');
          $('#dpEndDte').attr('readonly', 'readonly');
          $('#dpEndHh').attr('readonly', 'readonly');
          $('#dpEndMi').attr('readonly', 'readonly');
          $('#pirdStngUseYn').attr('readonly', 'readonly');
        }
      });

      $('#contTpLclsfCd').on('change', function(){
        if ( $(this).val() === '10' ) {
          $('#contTpMclsfCd').removeAttr('readonly');
        } else {
          $('#contTpMclsfCd').attr('readonly', 'readonly');
        }
      });
      //업로드버튼 이벤트
      // $('#btnUpload').bind('click', function(){
    	//   $('#uploadFile').trigger("click");
      // });
      //
      // $('#uploadFile').change(fnUploadFile);

      // child popup event call!!
      // fnInitEventsBySrcSearchPop();
    }


    //컨텐츠 등록
    function upsertByContRegPop(){
    	
    	//컨텐츠명
    	if($('#contNm').val() === ''){
            alert('컨텐츠명을 입력해 주세요.');
            return;
    	}
    	//발간 일자
    	if($('#pblcnYy').val() === '' || $('#pblcnMm').val() === '' || $('#pblcnDd').val() === ''){
            alert('발간 일자를 입력해 주세요.');
            return;
    	}
    	//출처
        if ($('#srcUid').val() === '') {
          alert('출처를 선택해 주세요.');
          return;
        }
    	//출처국가 선택
        if ($('#dmstcYn').val() === '') {
          alert('출처를 선택해 주세요.');
          return;
        }
    	//	제공 언어
        if ($('#splyLangCd').val() === '') {
          alert('제공 언어를 선택해 주세요.');
          return;
        }

        var formData = new FormData($("#frmByContRegPop")[0]);

        // for (var key of formData.keys()) {
        //   console.log(key);
        // }

        $.ajax({
          type:'POST',
          enctype:'multipart/form-data',
          url : "/sems/contents/upsertByContRegPop",
          data : formData,
          dataType: 'json',
          processData:false,
          contentType:false,
          cache:false,
          success:function(res){
            alert("저장에 성공하셨습니다.");
          },error:function(res){
            alert("오류 발생.\n관리자에게 문의해주세요.");
          }
        });
    }

    // function fnUploadFile(){
    //
    //     var formData = new FormData($("#frmByContRegPop")[0]);
    //     /*
    //     if(fileList.length > 0){
    //         fileList.forEach(function(f){
    //             formData.append("fileList", f);
    //         });
    //     }
    //     */
    //
    // 	 $.ajax({
    //          url : "/sems/contents/uploadFile",
    //          data : formData,
    //          type:'POST',
    //          enctype:'multipart/form-data',
    //          processData:false,
    //          contentType:false,
    //          dataType:'json',
    //          cache:false,
    //          success:function(res){
    //              alert("저장에 성공하셨습니다.");
    //          },error:function(res){
    //              alert("오류 발생.\n관리자에게 문의해주세요.");
    //          }
    //      });
    // }

    function fnApplyData(params) {
      if (params !== '') {
        var applyArr = params.split(',');

        $('#srcUid').val(applyArr[0]);
        $('#srcNm').val(applyArr[1]);
        $('#dmstcYn').val(applyArr[2]);
        $('#dmstcYnNm').val(applyArr[3]);
      }
    }

    function fnAddRow() {
      fixLessonRows++;

      // todo 행추가는 있는데 행삭제는 기획서에 없는데 어케해야 할까?
      var addTrHtml = `<tr id="trLesson_${fixLessonRows}">
        <td class="">
                        <textarea name="lesnNm" id="lesnNm_${fixLessonRows}" cols="" rows=""
                                  title="레슨명">4. ESG 공시기준 업데이트</textarea>
        </td>
        <td class="">
          <div class="fileUpload">
            <input type="hidden" name="uploadLessonsUid" id="uploadLessonsUid_${fixLessonRows}"/>
            <input type="text" id="filePath_${fixLessonRows}" class="url" placeholder="" readonly="readonly">
              <label for="uploadLessons_${fixLessonRows}">파일 선택</label>
              <input type="file" multiple="multiple" name="uploadLessons[]" id="uploadLessons_${fixLessonRows}" class="upload">
          </div>
          <div class="time-wrap flex">
            <input type="text" name="vodQuntyHh" id="vodQuntyHh_${fixLessonRows}" value="HH" class="time"
                   readonly="readonly" title="시간">:
              <input type="text" name="vodQuntyMi" id="vodQuntyMi_${fixLessonRows}" value="MM" class="time"
                     readonly="readonly" title="분">:
                <input type="text" name="vodQuntySec" id="vodQuntySec_${fixLessonRows}" value="SS" class="time"
                       readonly="readonly" title="초">
          </div>
        </td>
        <td class="">
                                                    <textarea name="vodComnt" id="vodComnt_${fixLessonRows}"
                                                              cols="" rows="">
    탄소 배출량 최신 트렌드
    탄소중립 전략 수립, 탄소감축 실행과 공시
    TCFD 기반 기후위험 공시
    친환경 분류, Taxonomy 대응
    LCA 기반 제품 탄소량 산출
                                                    </textarea>
        </td>
      </tr>`;
      document.getElementById('uploadLessons_${fixLessonRows}').onchange = setVideoFileInfo;
      // tBodyLesson - tbody 영역에 tr dynamic add row!
      $('#tBodyLesson').append(addTrHtml);
    }
  </script>

  <!-- modal-wrap -->
  <div id="mainByContRegPop" class="modal-wrap"><!-- class="show" 제거시 비노출 default가 hidden 처리 -->
    <div class="dimmed"></div>
    <div class="xycenter">
      <section class="modal-area large">
        <div class="modal-head">
          <h2 class="tit">컨텐츠 등록</h2>
          <button type="button" class="btn-close bf"><span class="blind">닫기</span></button>
        </div>
        <section class="modal-cont">
          <div class="search-wrap">
            <form id="frmByContRegPop">
              <input type="hidden" name="contUid" id="contUid"/>
              <input type="hidden" name="atacFileUid" id="atacFileUid"/>
              <fieldset>
                <legend>컨텐츠 등록</legend>
                <div class="table-wrap">
                  <table class="inner-input">
                    <caption>컨텐츠 등록</caption>
                    <colgroup>
                      <col style="width: 13%;">
                      <col style="width: 27%;">
                      <col style="width: 10%;">
                      <col style="width: 20%;">
                      <col style="width: 10%;">
                      <col style="width: 20%;">
                    </colgroup>
                    <tbody>
                    <tr id="trContKindCd">
                      <th>컨텐츠 종류<span class="required"><i class="blind">필수입력</i></span></th>
                      <td colspan="5">
                        <ul class="flex ck-list">
                          <li>
                            <input type="radio" name="contKindCd" id="radio01" value="10">
                            <label for="radio01">문서</label>
                          </li>
                          <li>
                            <input type="radio" name="contKindCd" id="radio02" value="20">
                            <label for="radio02">영상</label>
                          </li>
                          <li>
                            <input type="radio" name="contKindCd" id="radio03" value="30">
                            <label for="radio03">영상(원포인트레슨)</label>
                          </li>
                        </ul>
                      </td>
                    </tr>
                    <tr id="trContRmthdCd">
                      <th>등록방식<span class="required"><i class="blind">필수입력</i></span></th>
                      <td colspan="5">
                        <div class="flex">
                          <ul class="flex ck-list flex1">
                            <li id="liContRmthdCd10">
                              <input type="radio" name="contRmthdCd" id="radio04" value="10">
                              <label for="radio04">컨텐츠 업로드</label>
                            </li>
                            <!-- 영상 선택시 비노출 -->
                            <li id="liContRmthdCd20">
                              <input type="radio" name="contRmthdCd" id="radio05" value="20">
                              <label for="radio05">아웃링크</label>
                            </li>
                            <!-- 영상 선택시만 노출 -->
                            <li id="liContRmthdCd30">
                              <input type="radio" name="contRmthdCd" id="radio06" value="30">
                              <label for="radio06">임베드 코드(URL) 입력</label>
                            </li>
                          </ul>
                        </div>
                      </td>
                    </tr>
                    <tr id="trUploadDoc">
                      <th>컨텐츠 업로드</th>
                      <td>
                        <div class="fileUpload">
                          <input type="hidden" name="uploadFileUid" id="uploadFileUid"/>
                          <input type="text" name="filePath" id="filePath" class="url" placeholder="000KB 이하의 동영상만 업로드 가능합니다.">
                          <label for="uploadFile">파일 선택</label>
                          <input type="file" name="uploadFile" id="uploadFile" class="upload">
                        </div>
                      </td>
                      <th><label for="contSplyTpCd">제공형태</label></th>
                      <td>
                        <input type="text" name="contSplyTpCd" id="contSplyTpCd" value="" readonly="readonly">
                      </td>
                      <th><label for="pageCnt">페이지 수</label></th>
                      <td>
                        <input type="text" name="pageCnt" id="pageCnt" value="0" readonly="readonly">
                      </td>
                    </tr>
                    <tr id="trUrlLink">
                      <th>
                        <label for="linkUrl1">링크(URL)<span class="required"><i
                            class="blind">필수입력</i></span></label>
                      </th>
                      <td colspan="5">
                        <input type="text" name="linkUrl" id="linkUrl1" class="w100p">
                      </td>
                    </tr>
                    <tr id="trUploadMov">
                      <th>
                        컨텐츠 업로드<span class="required"><i class="blind">필수입력</i></span>
                      </th>
                      <td>
                        <div class="fileUpload">
                          <input type="hidden" name="uploadFileUid" id="uploadFileUid"/>
                          <input type="text" name="filePath" id="filePath" class="url" placeholder="000KB 이하의 동영상만 업로드 가능합니다.">
                          <label for="uploadFile">파일 선택</label>
                          <input type="file" name="uploadFile" id="uploadFile" class="upload">
                        </div>
                      </td>
                      <th><label for="contSplyTpCd">제공형태</label></th>
                      <td>
                        <input type="text" name="contSplyTpCd" id="contSplyTpCd" value="" readonly="readonly">
                      </td>
                      <th>영상분량</th>
                      <td>
                        <div class="time-wrap flex">
                          <input type="text" name="vodCtQuntyHh" id="vodQuntyHh1" value="HH" class="time" readonly="readonly" title="시간">:
                          <input type="text" name="vodCtQuntyMi" id="vodQuntyMi1" value="MM" class="time" readonly="readonly" title="분">:
                          <input type="text" name="vodCtQuntySec" id="vodQuntySec1" value="SS" class="time" readonly="readonly" title="초">
                        </div>
                      </td>
                    </tr>
                    <tr id="trUploadEmbed">
                      <th>
                        <label for="linkUrl2">소스코드(URL)<span class="required"><i class="blind">필수입력</i></span></label>
                      </th>
                      <td colspan="3">
                        <div class="url-area flex">
                          <input type="text" name="linkUrl" id="linkUrl2">
                          <button type="button" class="btn-play"><span>미리보기</span></button>
                        </div>
                      </td>
                      <th>영상분량</th>
                      <td>
                        <div class="time-wrap flex">
                          <input type="text" name="vodCtQuntyHh" id="vodQuntyHh2" value="HH" class="time" readonly="readonly" title="시간">:
                          <input type="text" name="vodCtQuntyMi" id="vodQuntyMi2" value="MM" class="time" readonly="readonly" title="분">:
                          <input type="text" name="vodCtQuntySec" id="vodQuntySec2" value="SS" class="time" readonly="readonly" title="초">
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th><label for="contNm">컨텐츠명<span class="required"><i
                          class="blind">필수입력</i></span></label></th>
                      <td>
                        <input type="text" name="contNm" id="contNm">
                      </td>
                      <th><label for="contUno">컨텐츠번호</label></th>
                      <td>
                        <input type="text" name="contUno" id="contUno" value="" readonly="readonly">
                      </td>
                      <th><label for="pblcnGbCd">발간 일자<span class="required"><i class="blind">필수입력</i></span></label>
                      </th>
                      <td>
                        <div class="flex date-publication">
                          <select name="pblcnGbCd" id="pblcnGbCd" class="type select">
                            <option value="01">연도</option>
                            <option value="02">월</option>
                            <option value="03">일자</option>
                          </select>
                          <input type="text" name="pblcnYy" id="pblcnYy" class="year" value="2023" title="연도">
                          <input type="text" name="pblcnMm" id="pblcnMm" class="month" value="09" readonly="readonly" title="월">
                          <input type="text" name="pblcnDd" id="pblcnDd" class="day" value="03" readonly="readonly" title="일자">
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th><label for="srcNm">출처<span class="required"><i
                          class="blind">필수입력</i></span></label></th>
                      <td>
                        <div class="inputbtn-wrap">
                          <input type="hidden" name="srcUid" id="srcUid">
                          <input type="text" id="srcNm" name="srcNm" readonly="readonly" onclick="fnShowBySrcSearchPop();">
                          <button type="button" onclick="fnShowBySrcSearchPop();" class="btn-srch"><span class="blind">검색</span>
                          </button>
                        </div>
                      </td>
                      <th><label for="dmstcYnNm">국내/해외</label></th>
                      <td>
                        <input type="hidden" name="dmstcYn" id="dmstcYn">
                        <input type="text" name="dmstcYnNm" id="dmstcYnNm" value="" readonly="readonly">
                      </td>
                      <th><label for="splyLangCd">제공 언어<span class="required"><i class="blind">필수입력</i></span></label>
                      </th>
                      <td>
                        <select name="splyLangCd" id="splyLangCd" class="select">
                          <option value="">선택</option>
                          <option value="10">국문</option>
                          <option value="20">영문</option>
                          <option value="30">기타</option>
                        </select>
                      </td>
                    </tr>
                    <tr>
                      <th><label for="contTpLclsfCd">유형 분류<span class="required"><i class="blind">필수입력</i></span></label>
                      </th>
                      <td>
                        <div class="select-group">
                          <select name="contTpLclsfCd" id="contTpLclsfCd" class="select">
                            <option value="">선택</option>
                            <option value="10">삼일발간물</option>
                            <option value="20">기준/가이드라인</option>
                            <option value="30">법/제도</option>
                            <option value="40">보고/연구</option>
                            <option value="50">교육/안내</option>
                          </select>
                          <select name="contTpMclsfCd" id="contTpMclsfCd" class="select" readonly="readonly">
                            <option value="">선택</option>
                            <option value="10">뉴스레터</option>
                            <option value="20">인사이트레포트</option>
                          </select>
                        </div>
                      </td>
                      <th><label for="taskClsfCd">업무 분류<span class="required"><i class="blind">필수입력</i></span></label>
                      </th>
                      <td>
                        <select name="taskClsfCd" id="taskClsfCd" class="select">
                          <option value="">선택</option>
                          <option value="10">경영관리</option>
                          <option value="20">전략/계획</option>
                          <option value="30">실행</option>
                          <option value="40">공시</option>
                          <option value="50">평가</option>
                        </select>
                      </td>
                      <th><label for="tpicMnuCd">주제 분류<span class="required"><i class="blind">필수입력</i></span></label>
                      </th>
                      <td>
                        <select name="tpicMnuCd" id="tpicMnuCd" class="select">
                          <option value="">선택</option>
                          <option value="10">일반</option>
                          <option value="20">환경</option>
                          <option value="30">사회</option>
                          <option value="40">거버넌스</option>
                          <option value="50">금융</option>
                        </select>
                      </td>
                    </tr>
                    <tr>
                      <th>전시 여부<span class="required"><i class="blind">필수입력</i></span></th>
                      <td>
                        <ul class="flex ck-list">
                          <li>
                            <input type="radio" name="dpTpCd" id="radio07" value="10">
                            <label for="radio07">전체공개</label>
                          </li>
                          <li>
                            <input type="radio" name="dpTpCd" id="radio08" value="20">
                            <label for="radio08">일부공개</label>
                          </li>
                          <li>
                            <input type="radio" name="dpTpCd" id="radio09" value="30">
                            <label for="radio09">비전시</label>
                          </li>
                        </ul>
                      </td>
                      <th>전시 기간</th>
                      <td colspan="3">
                        <div class="date-select flex date-ck-mix">
                          <div class="datepicker-wrap flex">
                            <input type="text" name="dpSttDte" id="dpSttDte" class="datepicker">
                            <input type="text" name="dpSttHh" value="00" class="time">:<input type="text" name="dpSttMi"
                                                                                              class="time"
                                                                               value="00">
                            <span class="separator"> - </span>
                            <input type="text" name="dpEndDte" id="dpEndDte" class="datepicker">
                            <input type="text" name="dpEndHh" value="23" class="time">:<input type="text" name="dpEndMi"
                                                                                              class="time"
                                                                               value="59">
                          </div>
                          <input type="checkbox" name="pirdStngUseYn" id="pirdStngUseYn" value="Y"><label for="pirdStngUseYn">기간설정사용</label>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>일부 공개 대상</th>
                      <td>
                        <ul class="flex ck-list">
                          <li>
                            <input type="checkbox" name="rlsTgtCd" id="ck01" value="10">
                            <label for="ck01">그룹 A</label>
                          </li>
                          <li>
                            <input type="checkbox" name="rlsTgtCd" id="ck02" value="20">
                            <label for="ck02">그룹 B</label>
                          </li>
                          <li>
                            <input type="checkbox" name="rlsTgtCd" id="ck03" value="30">
                            <label for="ck03">그룹 C</label>
                          </li>
                        </ul>
                      </td>
                      <!-- 20230802 수정 -->
                      <th>다운로드 가능여부</th>
                      <td colspan="3">
                        <ul class="flex ck-list">
                          <li>
                            <input type="radio" name="dwnldPsbltyYn" id="ck08" value="Y">
                            <label for="ck08">가능</label>
                          </li>
                          <li>
                            <input type="radio" name="dwnldPsbltyYn" id="ck09" value="N">
                            <label for="ck09">불가 </label>
                          </li>
                        </ul>
                      </td>
                      <!-- //20230802 수정 -->
                    </tr>
                    <tr>
                      <th>검색 가능 여부</th>
                      <td>
                        <ul class="flex ck-list">
                          <li>
                            <input type="radio" name="srchPsbltyYn" id="radio12" value="Y">
                            <label for="radio12">가능</label>
                          </li>
                          <li>
                            <input type="radio" name="srchPsbltyYn" id="radio13" value="N">
                            <label for="radio13">불가</label>
                          </li>
                        </ul>
                      </td>
                      <th>태그 키워드</th>
                      <td colspan="3">
                        <input type="text" name="tagKwrd" class="w100p"
                               placeholder="우선순위에 따라 콤마로 구분하여 입력하세요 (최대 100자)">
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
                <!-- //table-wrap -->
                <div id="divTopic" class="table-wrap">
                  <table class="table-type-mix line-gray">
                    <caption>ESG 토픽 선택</caption>
                    <colgroup>
                      <col style="width: *;">
                      <col style="width: 17%;">
                      <col style="width: 17%;">
                      <col style="width: 17%;">
                      <col style="width: 17%;">
                      <col style="width: 19%;">
                    </colgroup>
                    <tbody>
                    <tr>
                      <th rowspan="2">ESG 토픽</th>
                      <th>E(환경)</th>
                      <th>S(사회)</th>
                      <th>G(거버넌스)</th>
                      <th>F(금융)</th>
                      <th>공시</th>
                    </tr>
                    <tr>
                      <td>
                        <ul class="ck-list">
                          <li>
                            <input type="checkbox" name="esg" id="ck04-a">
                            <label for="ck04-a">온실가스</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-b">
                            <label for="ck04-b">Scope3</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-c">
                            <label for="ck04-c">탄소국경세</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-d">
                            <label for="ck04-d">친환경제품/서비스</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-e">
                            <label for="ck04-e">생물다향성</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-f">
                            <label for="ck04-f">에너지전환</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-g">
                            <label for="ck04-g">순환경제</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck04-h">
                            <label for="ck04-h">자연자본</label>
                          </li>
                        </ul>
                      </td>
                      <td>
                        <ul class="ck-list">
                          <li>
                            <input type="checkbox" name="esg" id="ck05-a">
                            <label for="ck05-a">인적자본 (Human Capital)</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck05-b">
                            <label for="ck05-b">인권 (Human Rights)</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck05-c">
                            <label for="ck05-c">공급망 관리</label>
                          </li>
                        </ul>
                      </td>
                      <td>
                        <ul class="ck-list">
                          <li>
                            <input type="checkbox" name="esg" id="ck06-a">
                            <label for="ck06-a">이사회</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck06-b">
                            <label for="ck06-b">내부통제</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck06-c">
                            <label for="ck06-c">윤리경영</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck06-d">
                            <label for="ck06-d">주주관리</label>
                          </li>
                        </ul>
                      </td>
                      <td>
                        <ul class="ck-list">
                          <li>
                            <input type="checkbox" name="esg" id="ck07-a">
                            <label for="ck07-a">기후리스크</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck07-b">
                            <label for="ck07-b">지속가능채권</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck07-c">
                            <label for="ck07-c">ESG투자</label>
                          </li>
                        </ul>
                      </td>
                      <td>
                        <ul class="ck-list">
                          <li>
                            <input type="checkbox" name="esg" id="ck08-a">
                            <label for="ck08-a">IFRS / ISSB</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-b">
                            <label for="ck08-b">CSRD / ESRS</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-c">
                            <label for="ck08-c">EU Taxonomy</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-d">
                            <label for="ck08-d">지속가능공급망 실사지침
                            </label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-e">
                            <label for="ck08-e">SEC 기후공시 의무화
                            </label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-f">
                            <label for="ck08-f">GRI</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-g">
                            <label for="ck08-g">TCFD</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-h">
                            <label for="ck08-h">TNFD</label>
                          </li>
                          <li>
                            <input type="checkbox" name="esg" id="ck08-i">
                            <label for="ck08-i">ESG인증</label>
                          </li>
                        </ul>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
                <!-- //table-wrap -->
                <div class="table-wrap">
                  <table class="line-gray">
                    <caption>컨텐츠 등록</caption>
                    <colgroup>
                      <col style="width: 13%;">
                      <col style="width: 37%;">
                      <col style="width: 13%;">
                      <col style="width: 37%;">
                    </colgroup>
                    <tbody>
                    <tr>
                      <th>대표 이미지<br>(000*0000)</th>
                      <td>
                        <div class="btn-upload-wrap">
                          <input type="hidden" name="uploadImageUid" id="uploadImageUid"/>
                          <input type="file" name="uploadImage" id="uploadImage" class="upload">
                        </div>
                      </td>
                      <th>메모 (컨텐츠 요약)</th>
                      <td>
                        <textarea name="contSumry" id="contSumry" cols="" rows=""></textarea>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
                <!-- //table-wrap -->
                <!-- 영상 원포인트레슨 선택시 노출 -->
                <div id="divLesson" class="table-wrap">
                  <table class="lesson-table line-gray">
                    <caption>컨텐츠 등록</caption>
                    <colgroup>
                      <col style="width: 33%;">
                      <col style="width: 34%;">
                      <col style="width: 33%;">
                    </colgroup>
                    <thead>
                    <tr>
                      <th colspan="3">
                        <div class="inner-btn">
                          영상 레슨 등록
                          <button type="button" class="btn_link"><span>미리보기</span></button>
                        </div>
                      </th>
                    </tr>
                    <tr>
                      <th>레슨명</th>
                      <th>영상 파일 업로드</th>
                      <th>영상 설명</th>
                    </tr>
                    </thead>
                    <tbody id="tBodyLesson" class="lesson-list">
                    <tr id="trLesson_1">
                      <td class="">
                        <textarea name="lesnNm" id="lesnNm_1" cols="" rows="" title="레슨명">1. Opening</textarea>
                      </td>
                      <td class="">
                        <div class="fileUpload">
                          <input type="hidden" name="uploadLessonsUid" id="uploadLessonsUid_1"/>
                          <input type="text" id="filePath_1" class="url" placeholder="" readonly="readonly">
                          <label for="uploadLessons_1">파일 선택</label>
                          <input type="file" multiple="multiple" name="uploadLessons[]" id="uploadLessons_1" class="upload">
                        </div>
                        <div class="time-wrap flex">
                          <input type="text" name="vodQuntyHh" id="vodQuntyHh_1" value="HH" class="time" title="시간">:
                          <input type="text" name="vodQuntyMi" id="vodQuntyMi_1" value="MM" class="time" title="분">:
                          <input type="text" name="vodQuntySec" id="vodQuntySec_1" value="SS" class="time" title="초">
                        </div>
                      </td>
                      <td class="">
                                                    <textarea name="vodComnt" id="vodComnt_1" cols="" rows="">
    탄소 배출량 최신 트렌드
    탄소중립 전략 수립, 탄소감축 실행과 공시
    TCFD 기반 기후위험 공시
    친환경 분류, Taxonomy 대응
    LCA 기반 제품 탄소량 산출
                                                    </textarea>
                      </td>
                    </tr>
                    <tr id="trLesson_2">
                      <td class="">
                        <textarea name="lesnNm" id="lesnNm_2" cols="" rows="" title="레슨명">2. 탄소배출량 관리 및 측정 : 탄소배출량 관리의 방향성</textarea>
                      </td>
                      <td class="">
                        <div class="fileUpload">
                          <input type="hidden" name="uploadLessonsUid" id="uploadLessonsUid_2"/>
                          <input type="text" id="filePath_2" class="url" placeholder="" readonly="readonly">
                          <label for="uploadLessons_2">파일 선택</label>
                          <input type="file" multiple="multiple" name="uploadLessons[]" id="uploadLessons_2" class="upload">
                        </div>
                        <div class="time-wrap flex">
                          <input type="text" name="vodQuntyHh" id="vodQuntyHh_2" value="HH" class="time" title="시간">:
                          <input type="text" name="vodQuntyMi" id="vodQuntyMi_2" value="MM" class="time" title="분">:
                          <input type="text" name="vodQuntySec" id="vodQuntySec_2" value="SS" class="time" title="초">
                        </div>
                      </td>
                      <td class="">
                                                    <textarea name="vodComnt" id="vodComnt_2" cols="" rows="">
    탄소 배출량 최신 트렌드
    탄소중립 전략 수립, 탄소감축 실행과 공시
    TCFD 기반 기후위험 공시
    친환경 분류, Taxonomy 대응
    LCA 기반 제품 탄소량 산출
                                                     </textarea>
                      </td>
                    </tr>
                    <tr id="trLesson_3">
                      <td class="">
                        <textarea name="lesnNm" id="lesnNm_3" cols="" rows="" title="레슨명">3. 탄소국경세 : 각국 진행경과, 한국기업의 대응</textarea>
                      </td>
                      <td class="">
                        <div class="fileUpload">
                          <input type="hidden" name="uploadLessonsUid" id="uploadLessonsUid_3"/>
                          <input type="text" id="filePath_3" class="url" placeholder="" readonly="readonly">
                          <label for="uploadLessons_3">파일 선택</label>
                          <input type="file" multiple="multiple" name="uploadLessons[]" id="uploadLessons_3" class="upload">
                        </div>
                        <div class="time-wrap flex">
                          <input type="text" name="vodQuntyHh" id="vodQuntyHh_3" value="HH" class="time" title="시간">:<!-- readonly="readonly" -->
                          <input type="text" name="vodQuntyMi" id="vodQuntyMi_3" value="MM" class="time" title="분">:<!-- readonly="readonly" -->
                          <input type="text" name="vodQuntySec" id="vodQuntySec_3" value="SS" class="time" title="초"><!-- readonly="readonly" -->
                        </div>
                      </td>
                      <td class="">
                                                    <textarea name="vodComnt" id="vodComnt_3" cols="" rows="">
    탄소 배출량 최신 트렌드
    탄소중립 전략 수립, 탄소감축 실행과 공시
    TCFD 기반 기후위험 공시
    친환경 분류, Taxonomy 대응
    LCA 기반 제품 탄소량 산출
                                                    </textarea>
                      </td>
                    </tr>
                    <tr id="trLesson_4">
                      <td class="">
                        <textarea name="lesnNm" id="lesnNm_4" cols="" rows=""
                                  title="레슨명">4. ESG 공시기준 업데이트</textarea>
                      </td>
                      <td class="">
                        <div class="fileUpload">
                          <input type="hidden" name="uploadLessonsUid" id="uploadLessonsUid_4"/>
                          <input type="text" id="filePath_4" class="url" placeholder="" readonly="readonly">
                          <label for="uploadLessons_4">파일 선택</label>
                          <input type="file" multiple="multiple" name="uploadLessons[]" id="uploadLessons_4" class="upload">
                        </div>
                        <div class="time-wrap flex">
                          <input type="text" name="vodQuntyHh" id="vodQuntyHh_4" value="HH" class="time" title="시간">:
                          <input type="text" name="vodQuntyMi" id="vodQuntyMi_4" value="MM" class="time" title="분">:
                          <input type="text" name="vodQuntySec" id="vodQuntySec_4" value="SS" class="time" title="초">
                        </div>
                      </td>
                      <td class="">
                                                    <textarea name="vodComnt" id="vodComnt_4" cols="" rows="">
    탄소 배출량 최신 트렌드
    탄소중립 전략 수립, 탄소감축 실행과 공시
    TCFD 기반 기후위험 공시
    친환경 분류, Taxonomy 대응
    LCA 기반 제품 탄소량 산출
                                                    </textarea>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                  <div class="btn-add-wrap">
                    <button type="button" id="btnAddRowByContRegPop" th:onclick="fnAddRow()" class="btn-add"><span>행 추가</span></button>
                  </div>
                </div>
                <!-- //영상 원포인트레슨 선택시 노출 -->
                <div class="btn-wrap">
                  <button type="button" onclick="upsertByContRegPop()" class="btn-primary">등록</button>
                  <button type="button" id="btnResetByContRegPop" class="btn-sub">초기화</button>
                </div>
                <!-- //btn-wrap -->
              </fieldset>
            </form>
          </div>
          <!-- //search-wrap -->
        </section>
        <!--//modal-cont-->
      </section>
      <!--//modal-area-->
    </div>
    <!--//xycenter-->
  </div>
  <!--//modal-wrap-->
</th:block>
<!-- layout:fragment-->
</html>
